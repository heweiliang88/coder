/*********************************************
* JavaScript Timer Control for Internet
* Copyright (C) 2010-2020 FreshFlower
*
* @author FreshFlower <wpt206@163.com>
* @site http://www.zerosong.com/
* @version 2.0
*********************************************/

var JTC=function(){var a=function(){},b={dayBgColor:["#90E3F7","#FFFFFF","#FFDA44"],dayColor:["#0000FF","#000000","#888888"],format:"yyyy-MM-dd",outObject:null,startDay:null,minDate:0,maxDate:0,ranged:1,showClear:!0,today:null,bgDivID:"JTC_BG_DIV",dayPanelId:"JTC_TheCurDay",yearCell:"JTC_TheCurYear",monthCell:"JTC_TheCurMonth",clearButtonId:"JTC_ClearButton",monthSelector:"JTC_MonthSelector",yearSelector:"JTC_YearSelector"},c={monthText:{zh:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],en:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]},weekDay:{zh:["日","一","二","三","四","五","六"],en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},clearBn:{zh:"清空",en:"Clear"},todayBn:{zh:"今天",en:"Today"},closeBn:{zh:"关闭",en:"Close"},yearCell:{zh:"单击选择年份",en:"Click to select the year"},monthCell:{zh:"单击选择月份",en:"Click to select the month"}},d=function(a){return a.replace(/(\s*$)|(^\s*)/g,"")},e=function(a,b){var b=b||document;return b.getElementById(a)},f=function(a,b){var b=b||document;return b.createElement(a)},g=function(){var a=navigator.userAgent.toLowerCase();return{VERSION:parseInt(a.match(/(msie|firefox|webkit|opera)[\/:\s](\d+)/)?RegExp.$2:"0"),IE:a.indexOf("msie")>-1&&-1==a.indexOf("opera"),GECKO:a.indexOf("gecko")>-1&&-1==a.indexOf("khtml"),WEBKIT:a.indexOf("applewebkit")>-1,OPERA:a.indexOf("opera")>-1}}(),h={today:function(){return null!=b.today?b.today:new Date},getLangText:function(a){var b="Netscape"==navigator.appName?navigator.language:navigator.browserLanguage;return a[b.indexOf("en-")>=0?"en":"zh"]},createTable:function(a){var b=f("table",a);return b.cellPadding=0,b.cellSpacing=0,b.border=0,b.style.cursor="default",b},createButton:function(a,b,c,d){var e=f("input");return e.setAttribute("type","button"),e.value=a,d&&(e.id=d),h.setObjectStyle(e,b+"cursor:pointer;border:0px;"),e.onclick=c,e},copyConfig:function(){var d,a=["format","outObject","minDate","maxDate","ranged","showClear","startDay"],c={};for(d=0;d<a.length;d++)c[a[d]]=b[a[d]];return b["set"]=c,b["set"]},formatDate:function(a,b){var d,c={"M+":a.getMonth()+1,"d+":a.getDate()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(d in c)new RegExp("("+d+")").test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return b},getCoords:function(a){return a=a||window.event,{x:a.clientX,y:a.clientY}},getDocumentElement:function(a){return a=a||document,"CSS1Compat"!=a.compatMode?a.body:a.documentElement},getScrollPos:function(){var a,b,c;return g.IE||g.OPERA?(c=this.getDocumentElement(),a=c.scrollLeft,b=c.scrollTop):(a=window.scrollX,b=window.scrollY),{x:a,y:b}},getElementPos:function(a){var d,e,f,b=0,c=0;if(a.getBoundingClientRect)d=a.getBoundingClientRect(),a=this.getDocumentElement(),e=this.getScrollPos(),b=d.left+e.x-a.clientLeft,c=d.top+e.y-a.clientTop;else for(b=a.offsetLeft,c=a.offsetTop,f=a.offsetParent;f;)b+=f.offsetLeft,c+=f.offsetTop,f=f.offsetParent;return{x:b,y:c}},setObjectStyle:function(a,b){a.setAttribute("style",b),a.style.cssText=b},setDate:function(a){var b,c;if(null==a||void 0==a)return null;b=null,c=typeof a;try{"string"==c?b=new Date(d(a).replace(/[^0-9: ]+/g,"/")):"object"==c&&a.getTime()&&(b=new Date(a.getTime()))}catch(e){b=null}return b},isLeapYear:function(a){return 0==a%4&&(0!=a%100||0==a%400)},getMonthCount:function(a,b){var c=[31,28,31,30,31,30,31,31,30,31,30,31],d=c[b-1];return 2==b&&h.isLeapYear(a)&&d++,d},getNYearMonth:function(a,b,c){return c>0?b+c>12?(b=1,a++):b++:0>=b+c?(a--,b=12):b--,{YY:a,MM:b}},getDateNumbers:function(a){return{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}},getIntegerOfDay:function(a,b,c){if(null==a)return 0;if(1==arguments.length){var d=h.getDateNumbers(a);return 1e4*d.year+100*d.month+d.day}return 1e4*a+100*b+c},checkDateRange:function(a){var c=b["set"];return 0==c.maxDate&&0==c.minDate?!0:0==c.minDate?1==c.ranged?a<=c.maxDate:a<c.maxDate:0==c.maxDate?1==c.ranged?a>=c.minDate:a>c.minDate:1==c.ranged?a>=c.minDate&&a<=c.maxDate:a>c.minDate&&a<c.maxDate},getEventSrcObject:function(){var b,a=window.event;if(void 0==a){for(b=arguments.callee.caller;null!=b.caller;)b=b.caller;a=b.arguments[0]}return a.srcElement?a.srcElement:a.target},outObjectValue:function(a){var e,c=b["set"].outObject;return arguments.length<1?d("input"==c.tagName.toLowerCase()?c.value:c.innerHTML):(e="object"==typeof a?h.formatDate(a,b["set"].format):"","input"==c.tagName.toLowerCase()?c.value=e:c.innerHTML=e,void 0)}},i={addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},removeEvent:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},show:function(a,c){var g,k,d="",f=h.today();null==b["set"].startDay?(d=h.outObjectValue(),""!=d&&(d=d.replace(/[^0-9:]/gi,"/"),"invalid date"!=new Date(d).toString().toLowerCase()&&(f=new Date(d)))):f=b["set"].startDay,g=e(b.bgDivID),(null==g||void 0==g)&&(j(),g=e(b.bgDivID)),k=h.getDateNumbers(f),i.createDay(k.year,k.month,k.day),g.style.top=a+"px",g.style.left=c+"px",g.style.display="",i.addEvent(document,"keydown",i.keyDown),i.addEvent(document,"mousedown",i.mouseDown),e(b.clearButtonId).style.display=b["set"].showClear?"":"none"},setHeaderYM:function(a,d){e(b.yearCell).innerHTML=a,e(b.monthCell).innerHTML=h.getLangText(c.monthText)[d-1],e(b.monthCell).axis=d},createDay:function(a,c,d){var f,g,j,k,l,m,n,o,p;for(this.dayRangeEv=function(a,c,d){var e=h.checkDateRange(c);a.axis=d,a.className="",a.style.backgroundColor=b.dayBgColor[1],a.style.color=e===!0?b.dayColor[0===d?1:0]:b.dayColor[2],a.style.cursor=e===!0?"pointer":"default",a.onmousemove=e===!0?i.dayOnMouseMove:i.emptyFunc,a.onmouseout=e===!0?i.dayOnMouseOut:i.emptyFunc,a.onclick=e===!0?i.dayOnClick:i.emptyFunc},d=d||0,i.setHeaderYM(a,c),f=new Date(a,c-1,1),g=f.getDay(),g=2>g?g+7:g,j=h.getNYearMonth(a,c,-1),k=h.getMonthCount(j.YY,j.MM),l=null,m=g-1;m>=0;m--)l=e(b.dayPanelId+m),l.innerHTML=k-g+m+1,this.dayRangeEv(l,h.getIntegerOfDay(j.YY,j.MM,k-g+m+1),-1);for(n=h.getMonthCount(a,c),m=0;n>m;m++)l=e(b.dayPanelId+(g+m)),l.innerHTML=m+1,this.dayRangeEv(l,h.getIntegerOfDay(a,c,m+1),0),d!=m+1||"default"==l.style.cursor?(l.style.backgroundColor=b.dayBgColor[1],l.className=""):(l.style.backgroundColor=b.dayBgColor[0],l.className="JTC_CHOOSEDAY");for(o=g+n,p=h.getNYearMonth(a,c,1),m=0;42-g-n>m;m++)l=e(b.dayPanelId+(o+m)),l.innerHTML=m+1,this.dayRangeEv(l,h.getIntegerOfDay(p.YY,p.MM,m+1),1)},dayOnMouseMove:function(){this.style.backgroundColor=b.dayBgColor[0]},dayOnMouseOut:function(){"JTC_CHOOSEDAY"!=this.className&&(this.style.backgroundColor=b.dayBgColor[1])},dayOnClick:function(){var f,g,j,a=parseInt(e(b.yearCell).innerHTML.match(/\d+/g)),c=parseInt(e(b.monthCell).axis),d=parseInt(this.innerHTML);"0"!=this.axis&&(f=d>20?-1:1,g=h.getNYearMonth(a,c,f),a=g.YY,c=g.MM),j=new Date(a+"/"+c+"/"+d),h.outObjectValue(j),i.hideLayout()},emptyFunc:function(){},turnMonth:function(a){var f,c=parseInt(e(b.yearCell).innerHTML.match(/\d+/g)),d=parseInt(e(b.monthCell).axis);0!=a&&(f=h.getNYearMonth(c,d,a),c=f.YY,d=f.MM),i.createDay(c,d)},showSelector:function(a){var c,d,g,j,k,l,m,n;if(a=a||1,i.hideSelector(1==a?2:1),c=1==a?e(b.yearSelector):e(b.monthSelector),d=void 0==c||null==c)c=f("div");else{if("none"!=c.style.display)return i.hideSelector(a),void 0;for(g=c.childNodes,j=g.length-1;j>=0;j--)c.removeChild(g[j])}k={x:parseInt(e(b.bgDivID).style.left.match(/\d+/g))+(1==a?32:85),y:parseInt(e(b.bgDivID).style.top.match(/\d+/g))+25},c.id=1==a?b.yearSelector:b.monthSelector,l="position:absolute; z-index:20010; background-color:#FFFFFF; width:78px; height:120px; top:"+k.y+"px; left:"+k.x+"px; border:1px solid #A77AEB; padding:2px 2px;",h.setObjectStyle(c,l),m=h.createTable(),1==a?(n=parseInt(e(b.yearCell).innerHTML.match(/\d+/g))-5,i.yearSelector(m,n)):i.monthSelector(m),c.appendChild(m),d?document.body.appendChild(c):c.style.display=""},yearSelector:function(a,c,d){var g,j,k,l,m,n,o,f=["JTC_YEATSELECTOR_PRET","JTC_YEATSELECTOR_NEXT","JTC_YEARSELECTOR"];if(d=d||0,1==d){for(g=0;10>g;g++)e(f[2]+g).innerHTML=c+g;return e(f[0]).onclick=function(){i.yearSelector(a,c-10,1)},e(f[1]).onclick=function(){i.yearSelector(a,c+10,1)},void 0}for(g=0;5>g;g++)for(j=a.insertRow(g),l=0;2>l;l++)k=j.insertCell(l),k.id=f[2]+(0==l?g:g+5),k.innerHTML=c+g+5*l,m="width:37px;;height:20px; text-align:center;font-size:12px;cursor:pointer;",h.setObjectStyle(k,m),k.onmousemove=i.dayOnMouseMove,k.onmouseout=i.dayOnMouseOut,k.onclick=function(){e(b.yearCell).innerHTML=this.innerHTML,i.turnMonth(0),i.hideSelector(1)};j=a.insertRow(5),k=j.insertCell(0),k.colSpan=2,n="border:0px;background-color:#FFFFFF;width:24px;height:20px; margin:0px 0px;",o=h.createButton("←",n,function(){var b=c-10;i.yearSelector(a,b,1)},f[0]),k.appendChild(o),o=h.createButton("×",n,function(){i.hideSelector(1)}),k.appendChild(o),o=h.createButton("→",n,function(){var b=c+10;i.yearSelector(a,b,1)},f[1]),k.appendChild(o)},monthSelector:function(a){var f,g,j,k,l,d=h.getLangText(c.monthText);for(f=0;6>f;f++)for(g=a.insertRow(f),j=0;2>j;j++)k=g.insertCell(j),k.innerHTML=d[f+6*j],k.axis=f+1+6*j,l="width:37px;;height:20px; text-align:center;font-size:12px;cursor:pointer;",h.setObjectStyle(k,l),k.onmousemove=i.dayOnMouseMove,k.onmouseout=i.dayOnMouseOut,k.onclick=function(){e(b.monthCell).axis=this.axis,i.turnMonth(0),i.hideSelector(2)}},hideSelector:function(a){2==a?e(b.monthSelector)&&(e(b.monthSelector).style.display="none"):e(b.yearSelector)&&(e(b.yearSelector).style.display="none")},hideLayout:function(){var a=e(b.bgDivID);i.hideSelector(1),i.hideSelector(2),a.style.display="none",i.removeEvent(document,"keydown",i.keyDown),i.removeEvent(document,"mousedown",i.mouseDown)},keyDown:function(a){a=a||window.event,27==a.keyCode&&i.hideLayout()},mouseDown:function(a){var d,f,g,j,k,l,m,n,o,p,c=e(b.bgDivID);if("none"!=c.style.display)return d=0,e(b.yearSelectCtrl)&&(d=1),e(b.monthSelectCtrl)&&(d=1),l=h.getElementPos(c),f=l.x,g=l.y,j=f+170,k=g+190,m=h.getScrollPos(),n=h.getCoords(a),o=m.x+n.x,p=m.y+n.y,1==d?((f>o||o>j)&&i.hideLayout(),void 0):((f>o||o>j||g>p||p>k)&&i.hideLayout(),void 0)}},j=function(){var a,d,e,j,k,l;this.getHeaderPanel=function(){var f,g,j,a=h.createTable(),d=a.insertRow(0),e=d.insertCell(0);return e.style.width="30px",e.style.height="23px",f="width:28px; height:21px; cursor: pointer; border: 0px none; background-color:#FFFFFF;",g=h.createButton("<",f,function(){i.turnMonth(-1)},"bn_preMonth"),e.appendChild(g),e=d.insertCell(1),j="cursor:pointer;width:54px; line-height:20px;background-color:#FFFFFF;",h.setObjectStyle(e,j),e.id=b.yearCell,e.title=h.getLangText(c.yearCell),e.onmousemove=function(){this.style.backgroundColor=b.dayBgColor[2]},e.onmouseout=function(){this.style.backgroundColor=b.dayBgColor[1]},e.onclick=function(){i.showSelector(1)},e=d.insertCell(2),h.setObjectStyle(e,j),e.id=b.monthCell,e.title=h.getLangText(c.monthCell),e.onmousemove=function(){this.style.backgroundColor=b.dayBgColor[2]},e.onmouseout=function(){this.style.backgroundColor=b.dayBgColor[1]},e.onclick=function(){i.showSelector(2)},e=d.insertCell(3),e.style.width="30px",g=h.createButton(">",f,function(){i.turnMonth(1)}),e.appendChild(g),a},this.getWeekDayPanel=function(){var f,g,i,k,l,a=h.createTable(),j="width:23px; height:20px; cursor:pointer; border-right:1px solid #EEEEEE; border-bottom:1px solid #EEEEEE; line-height:16px;",d=0,e=null;for(f=0;6>f;f++)for(e=a.insertRow(f),g=0;7>g;g++)l=e.insertCell(g),l.id=b.dayPanelId+d,h.setObjectStyle(l,j),d++;for(e=a.insertRow(0),i=h.getLangText(c.weekDay),j="height:23px; border-top:0px; border-bottom:1px solid #008FEE; border-right:0px; border-left:0px;background-color:#FFFFFF;",k=0;7>k;k++)l=e.insertCell(k),h.setObjectStyle(l,j),l.innerHTML=i[k];return a},this.getBottomPanel=function(){var f,g,a=h.createTable(),d=a.insertRow(0),e=d.insertCell(0);return e.style.width="48px",f="font-size:12px;width:38px; border:0px; background-color:#FFFFFF;",e=d.insertCell(1),e.style.width="38px",g=h.createButton(h.getLangText(c.clearBn),f,function(){h.outObjectValue("")},b.clearButtonId),e.appendChild(g),e=d.insertCell(2),e.style.width="38px",g=h.createButton(h.getLangText(c.todayBn),f,function(){var a=h.getDateNumbers(h.today());i.createDay(a.year,a.month,a.day)}),e.appendChild(g),e=d.insertCell(3),e.style.width="38px",g=h.createButton(h.getLangText(c.closeBn),f,i.hideLayout),e.appendChild(g),a},a=h.createTable(),d="border:1px solid #008FEE; font-size:12px; text-align:center;",h.setObjectStyle(a,d),e=a.insertRow(0),j=e.insertCell(0),j.appendChild(this.getHeaderPanel()),e=a.insertRow(1),j=e.insertCell(0),j.appendChild(this.getWeekDayPanel()),e=a.insertRow(2),j=e.insertCell(0),j.appendChild(this.getBottomPanel()),k=f("div"),k.id=b.bgDivID,_style="position:absolute; width:171px; height:190px;z-index:20000; font-size:12px;display:none;background-color:#FFFFFF;",h.setObjectStyle(k,_style),g.IE&&g.VERSION<7&&(l=f("iframe"),_style="position:absolute; width:170px; height:185px;z-index:-1;",h.setObjectStyle(l,_style),l.frameBorder=0,l.scrolling="no",l.src="about:blank",k.appendChild(l)),k.appendChild(a),document.body.appendChild(k)};return a.setday=function(c){var g,j,d=h.getEventSrcObject(),f=h.copyConfig();for(f.outObject=d,this.checkObj=function(a){return null!=e(a)&&void 0!=e(a)},c&&("string"==typeof c&&this.checkObj(c)?f.outObject=e(c):"string"==typeof c.outObject&&this.checkObj(c.outObject)?f.outObject=e(c.outObject):"object"==typeof c.outObject&&(f.outObject=c.outObject),f.showClear=(c.showClear||b.showClear)===!1?!1:!0,f.format=c.format||b.format,c.today&&a.setToday(c.today),(void 0!=c.minDate||void 0!=c.maxDate)&&(f.minDate=h.getIntegerOfDay(h.setDate(c.minDate)),f.maxDate=h.getIntegerOfDay(h.setDate(c.maxDate)),f.ranged=(c.ranged||b.ranged)===!1?0:1),c.readOnly===!0&&(f.outObject.readOnly=!0),c.startDay&&(f.startDay=h.setDate(c.startDay))),g={top:d.offsetTop,left:d.offsetLeft,height:d.clientHeight};d=d.offsetParent;)g.top+=d.offsetTop,g.left+=d.offsetLeft;j="image"==typeof d?g.top+g.height:g.top+g.height+5,i.show(j,g.left)},a.setToday=function(a){b.today=h.setDate(a)},a.setDateRange=function(a,c,d){b.minDate=h.getIntegerOfDay(h.setDate(a)),b.maxDate=h.getIntegerOfDay(h.setDate(c)),b.ranged=d===!1?0:1},a.setDateFormat=function(a){b.format=a||b.format},a.setStartDay=function(a){b.startDay=h.setDate(a)},a}();